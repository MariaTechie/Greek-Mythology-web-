"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[88027,18755],{373137:(e,i,a)=>{a.r(i),a.d(i,{default:()=>t});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null};n.hash="0628142b7a59444fec6969159289921a";let t=n},777579:(e,i,a)=>{var n,t,r;a.r(i),a.d(i,{default:()=>s});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[n,t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:[r={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[t,{args:null,kind:"FragmentSpread",name:"BoardCard_user"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},r,{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};l.hash="3fc8a3c79e94dc09a6f9c6b242ea21dc";let s=l},384777:(e,i,a)=>{var n;a.r(i),a.d(i,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:n,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:n,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:"image_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:n,storageKey:'images(spec:"170x")'}],type:"Board",abstractKey:null};t.hash="25fa66fe4860f02b2ce5d43d2db22ddd";let r=t},251263:(e,i,a)=>{a.d(i,{Z:()=>r});var n=a(883119),t=a(785893);let r=({text:e})=>/*#__PURE__*/(0,t.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:e})},829196:(e,i,a)=>{a.d(i,{YS:()=>s,eF:()=>o,m_:()=>l});var n=a(431705),t=a(194093),r=a(415787);function l(e,i,a,t,l){let s=new URLSearchParams,o=i.reduce((e,i)=>{if(null!=i){let a=function(e){let i;try{i=decodeURIComponent(e)}catch(a){i=e}i.startsWith("http")?i.startsWith("http://")&&(i=i.replace("http://","https://")):i="https://"+i;try{return new URL(i).origin}catch(n){let a=i.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(a&&a.length>1)return a[1];return e}}(i);return e.add(a)}return e},new Set);s.append(n.NR.SOURCE_EVENT_ID,e??"0"),s.append(n.NR.DESTINATION,JSON.stringify([...o])),s.append(n.NR.EXPIRY,a?n.uV:n.ug),s.append(n.NR.PRIORITY,a?n.NR.CLICK_PRIORITY:n.NR.VIEW_PRIORITY),l&&s.append(n.NR.ADVERTISER_ID,l),t&&s.append(n.NR.CAMPAIGN_ID,t),s.append(n.NR.SOURCE_EVENT_TYPE,a?n.bC:n.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&s.append(n.NR.HOSTNAME,e)}catch(e){(0,r.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+s.toString()}async function s(e,i,a,n,s,o,d,c,u){let p;let{appType:m,osType:g}=o||{},h="",y="";if(["Pin","pinImpressions"].includes(e)&&i&&(n||c||u)){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:m,osType:g}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:m,osType:g}});return}h=l(a,[n,c,u],!1,s,d);try{y=new URL(window.location.href).hostname}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(y&&"www.pinterest.com"!==y)document.createElement("img").setAttribute("attributionsrc",h),(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:m,osType:g,hostname:y}});else if(!(p=await window.fetch(h,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:m,osType:g}})}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,t.Z)(e,"name"),message:(0,t.Z)(e,"message"),appType:m,osType:g,hostname:y,responseStatus:p&&p.status}})}}else(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:m,osType:g}})}function o(e){if(e){let i=e.toLowerCase();if(i.includes("windows"))return"windows xp"===i?1:"windows vista"===i?2:"windows 7"===i?3:"windows 8"===i?4:12;if(i.includes("mac os"))return 5;if(i.includes("android"))return 7;if(i.includes("ios"))return 6;if(i.includes("ubuntu"))return 8;if(i.includes("chromium os"))return 13}return 0}},118755:(e,i,a)=>{a.d(i,{G6:()=>r,i7:()=>l,oi:()=>n,u$:()=>t,un:()=>o,vU:()=>s,w1:()=>d});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),t=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function r(e){return t(e)===n.SAFARI}function l(e){return t(e)===n.CHROME}function s(e){return t(e)===n.FIREFOX}function o(e){return t(e)===n.EDGE}function d(e){return t(e)===n.IE}},788388:(e,i,a)=>{a.d(i,{F:()=>v,Z:()=>y});var n=a(667294),t=a(829196),r=a(118755),l=a(573706),s=a(39260),o=a(635284),d=a(730212),c=a(410150),u=a(644797),p=a(243583),m=a(415787),g=a(855746);let h={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"curatedBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}};function y({carouselData:e,closeupImpressionType:i,closeupNavigationType:a,componentType:y,contextLogData:v,clientTrackingParams:_,duploShouldTrackPinEvents:x,elementType:w,impressionAuxFields:b,inImpressionExp:f,impressionType:I,impressionsFramework:P,isPaused:T,loggingId:S,objectIdStr:k,slotIndex:E,trackCarousel:F,viewData:C,viewParameter:A,viewType:j,isPromoted:D,storyPinProductEventData:R}){let{logContextEvent:L}=(0,l.v)(),{logMrcVideoAdEventOnPlay:B}=(0,u.r)(),{userAgent:{browserName:z}}=(0,d.B)(),{logStat:Z}=(0,p.Yg)(),U=P||o.Z,G=(0,n.useRef)(null),K=n=>{let l=h[I],s=l.idType,o={clientTrackingParams:_,endTime:n.endTime,[s]:S,slotIndex:E,time:n.startTime,renderDuration:n.endTime-n.startTime,type:i,...b,forcedExit:"removed"===n.forcedExit?0:void 0};if("Pin"===I){let e=[],i=n.visibleEvents||new Map,a=n.hiddenEvents||new Map;if([1,50,80,2].forEach(n=>{i.has(n)&&e.push({type:n,time:1e6*(i.get(n)||0),visible:!0}),a.has(n)&&e.push({type:n,time:1e6*(a.get(n)||0),visible:!1})}),o={...o,pinCellWidth:n.pinCellWidth||0,pinCellHeight:n.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,i)=>e.time-i.time)},(0,r.i7)(z)&&b&&b.isPromoted){let{attributionSourceId:e,isPromoted:i,link:a,campaignId:n,araAuxData:r,advertiserId:l,domain:s,adDestinationUrl:o}=b;(0,t.YS)(I,i??null,e??null,a??null,n??null,r??null,l??null,s??null,o??null)}}let d={component:y,object_id_str:k,view_type:j,view_data:C||{},view_parameter:A};if(F)e&&F&&L({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...o,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...d,aux_data:{...v}});else{let e={clientTrackingParams:_,event_type:l.eventType,...d,element:w,event_data:{[l.impressionType]:"Story"===I?o:[o],...R?{storyPinProductEventData:R}:{}},aux_data:{closeup_navigation_type:a,...v}};L(e),B(e)}x&&Z("log_pin_impression")},{expName:M,group:N}=(0,s.Z)({skipActivation:!0}),O=(0,c.ZP)(),H=(0,g.MM)(),{isAuthenticated:Q}=(0,d.B)(),V=(0,n.useCallback)(()=>{let e=!1;try{let{current:i}=G;if(i instanceof HTMLElement&&(!D||i.getElementsByTagName("img").length>0)){let a=U.start(i);a.onExitViewport(K).setDebugId(S||"unknown"),x&&a.onEnterViewport(()=>{Z("log_pin_impression_track_enter_viewport")}),e=!0,N&&(0,m.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:O,experimentName:M,group:N,handlerId:H,isAuthenticated:Q,slotIndex:E??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}x&&Z("log_pin_impression_track",{didStartTracking:e})},[G.current]);return(0,n.useEffect)(()=>(f&&!U.inExperiment&&U.setExperimentStatus(!0),T||V(),()=>{let{current:e}=G;e instanceof HTMLElement&&(!D||e.getElementsByTagName("img").length>0)&&U.stop(e)}),[T,V]),G}let v=({children:e,...i})=>e({impressionTrackerRef:y(i)})},51674:(e,i,a)=>{a.d(i,{U:()=>r,Z:()=>l});var n=a(883119),t=a(785893);let r=", ";function l(){return/*#__PURE__*/(0,t.jsx)(n.xu,{display:"visuallyHidden",children:r})}},644797:(e,i,a)=>{a.d(i,{W:()=>c,r:()=>d});var n=a(667294),t=a(573706),r=a(498490),l=a(297728),s=a(785893);let{Provider:o,useHook:d}=(0,r.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:i,logImpression:a}=(0,t.v)(),{checkExperiment:r}=(0,l.F)(),[d,c]=(0,n.useState)(!1),[u,p]=(0,n.useState)([]),[m,g]=(0,n.useState)([]),[h,y]=(0,n.useState)({}),v=r("web_ads_mrc_video_impression").anyEnabled,_=e=>{y(i=>({...i,[e]:!0}))},x=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:i}=e.event_data.pinImpressions[0],a=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");v&&(i||a)&&p(i=>[...i,e].slice(-1e3))}},[v]),w=(0,n.useCallback)(e=>{18===e.eventType&&v&&g(i=>[...i,e].slice(-1e3))},[v]),b=e=>{let{time:i}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:i,renderDuration:0}]}}},f=e=>{if(e.eventData){let{time:i}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:i??0}}}return null};(0,n.useEffect)(()=>{let e=u.filter(e=>{let{pinIdStr:a}=e.event_data.pinImpressions[0];return!h[a]||!v||(i(b(e)),!1)});e.length!==u.length&&p(e)},[u,v,i,h]),(0,n.useEffect)(()=>{let e=m.filter(e=>{let i=e.eventData?.pinIdStr;if(!i)return!1;if(h[i]&&v){let i=f(e);return i&&a(i),!1}return!0});e.length!==m.length&&g(e)},[m,v,a,h]);let I=(0,n.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:w,logMrcVideoAdEventOnPlay:x,setCaptionsEnabled:c,setVideoPlayed:_,videosPlayed:h}),[d,x,w,h]);return/*#__PURE__*/(0,s.jsx)(o,{value:I,children:e})}},87416:(e,i,a)=>{a.d(i,{Cy:()=>d,HE:()=>c,Mv:()=>r,Y4:()=>u,dL:()=>t,fS:()=>p,fv:()=>s,lu:()=>m,qS:()=>o,u:()=>g,uc:()=>l});var n=a(788388);let t=e=>{let i=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},r=e=>{let i=(0,n.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:i})},l=e=>{let i=(0,n.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:i})},s=e=>{let i=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:i})},o=e=>{let i=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},d=e=>{let i=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},c=e=>{let i=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},u=e=>{let i=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},p=e=>{let i=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:i})},m=e=>{let i=(0,n.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:i})},g=e=>{let i=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})}},845873:(e,i,a)=>{a.d(i,{bn:()=>s,fJ:()=>d,gC:()=>o});var n=a(545007),t=a(498490),r=a(785893);let{Provider:l,useHook:s}=(0,t.Z)("Boards");function o(){let e=s();return i=>e[i]}function d({children:e}){let i=(0,n.v9)(({boards:e})=>e,n.wU);return/*#__PURE__*/(0,r.jsx)(l,{value:i,children:e})}},795644:(e,i,a)=>{a.d(i,{Z:()=>A});var n,t=a(667294);a(167912);var r=a(616550),l=a(883119),s=a(488792),o=a(559028),d=a(318717),c=a(936437),u=a(144326),p=a(590338),m=a(240760),g=a(297728),h=a(730212),y=a(1006),v=a(51674),_=a(946970),x=a(410150),w=a(383399),b=a(752578),f=a(236496),I=a(140002),P=a(898773),T=a(598259),S=a(533191),k=a(87416),E=a(785893);let F=void 0!==n?n:n=a(373137),C=({children:e,isBoardsActualizationRepsExp:i})=>(0,x.HG)()?/*#__PURE__*/(0,E.jsx)(l.X6,{accessibilityLevel:2,lineClamp:i?2:1,size:i?"300":"400",children:e}):/*#__PURE__*/(0,E.jsx)(l.xv,{lineClamp:i?2:1,size:i?"200":void 0,weight:"bold",children:e});function A({archivedDate:e,boardId:i,boardUrl:a,canEdit:n,numberOfCollaborators:A,containerBackgroundColor:j,coverPhoto:D,display:R,followedByMe:L,fullSizeDrawer:B,sensitivityScreen:z,handleInviteResponse:Z,hideMeta:U,hideSecretBoardIcon:G=!1,id:K,invite:M,imagesLego:N=[],isActive:O,isAttributionHeightUnfixed:H,isAuthenticated:Q,isBoardInviteAccepted:V,isBoardsActualizationReps:W=!1,isCollaborative:Y,isCollaborator:q,isCollaboratorsAttributionVisible:X=!1,isFeaturedBoardsModule:$=!1,isNoBoardTitleStyle:J=!1,isOwner:ee,isProtected:ei,isSecret:ea,isTemporarilyDisabled:en,lastModifiedDate:et,layout:er,locale:el,metaMarginTop:es=0,metaPaddingY:eo=2,name:ed,numCols:ec,onEditClick:eu,onFollow:ep,onUnfollow:em,pinCount:eg=0,sectionCount:eh,showFollowButton:ey,showBoardCollaborators:ev=!0,userKey:e_,viewParameter:ex,viewType:ew,slotIndex:eb}){let ef=(0,u.ZP)(),eI=(0,c.Z)(),eP=(0,p.Z)(),eT=(0,s.Z)(),eS=(0,x.HG)(),{isRTL:ek}=(0,h.B)(),eE=(0,w.Z)(),{username:eF}=eE,eC=eE.isAuth?eE?.avatar_color_index:void 0,{checkExperiment:eA}=(0,g.F)(),{username:ej}=(0,r.UO)(),eD=(0,d.Z)(F,e_),eR=eS&&Q,eL="square"===er?I.M0:I.z9,eB="responsive"!==R&&eR?eL:"100%",ez=eF&&eF===ej,eZ=!W&&Q&&!ez&&(eS?eA("dweb_presence_boards_reps_actualization").anyEnabled:eA("mweb_presence_boards_reps_actualization").anyEnabled),eU=W||eZ,eG=ej&&I.sN.includes(ej.toLowerCase()),eK=e=>{Q||(0,y.NC)("press_follow_board"),ep&&ep(e)},eM=e=>{Q||(0,y.NC)("press_unfollow_board"),em&&em(e)},eN=N.map(e=>({url:e.url,name:ed})),eO=!!eD&&!n&&ey,eH=eD?.isVerifiedMerchant,eQ=eD?.verifiedIdentity?.verified,eV=eH||eQ,eW=Y&&!$;eU&&(eW&&=ej&&!eG);let eY=!ee&&!q&&!!z?.show_warning,eq={board_id:K,reason:z?.reason},eX=eU&&(!ej||X||eG),e$=eR?void 0:I.s0;return eU&&(e$=eS?void 0:eX?I.AC:I.Y_),(0,t.useEffect)(()=>{eY&&eT({event_type:13,component:13861,view_type:215,aux_data:eq})},[]),/*#__PURE__*/(0,E.jsx)(k.fS,{auxData:{board_id:K,board_pin_count:eg??0,board_section_count:eh??0},impressionData:{imageURL:D?.url},loggingId:K,slotIndex:eb||0,viewParameter:ex,viewType:ew,children:({impressionTrackerRef:r})=>/*#__PURE__*/(0,E.jsxs)(l.xu,{ref:r,"data-test-id":`boardCard-${ed}`,height:eO?`max(calc(25vh + 10px), calc(210px + ${eU?5:0}vh))`:"100%",position:"relative",width:eR?eB:"100%",children:[/*#__PURE__*/(0,E.jsx)(P.Z,{canEdit:n,containerBackgroundColor:j,coverPhoto:D,fullSize:B,hideSecretBoardIcon:G,images:eN,isActive:O,isProtected:ei,isSecret:ea,isTemporarilyDisabled:en,layout:er,onEditClick:eu,renderAsImage:!0,showSensitivityScreen:eY}),!U&&/*#__PURE__*/(0,E.jsx)(t.Fragment,{children:M&&!en?/*#__PURE__*/(0,E.jsxs)(t.Fragment,{children:[/*#__PURE__*/(0,E.jsxs)(l.xu,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[/*#__PURE__*/(0,E.jsxs)(l.xu,{width:"100%",children:[/*#__PURE__*/(0,E.jsx)(l.rU,{href:a??"",children:/*#__PURE__*/(0,E.jsx)(l.xu,{marginBottom:1,marginTop:0,children:/*#__PURE__*/(0,E.jsx)(C,{isBoardsActualizationRepsExp:eU,children:ed})})}),V?/*#__PURE__*/(0,E.jsx)(l.xv,{lineClamp:1,size:"200",children:ef.bt("Vous avez rejoint", "You’ve joined", "boardRep.invite.invitationAcceptedText", undefined, true)}):/*#__PURE__*/(0,E.jsx)(l.xv,{size:"200",children:function(e,i){let{full_name:a,username:n}=e,t=/*#__PURE__*/(0,E.jsx)(l.rU,{display:"inlineBlock",href:`/${n}`,underline:"hover",children:a},"linkToUser");return(0,m.nk)(i.bt("{{ linkToUser }} vous a invité(e) à rejoindre ce tableau", "{{ linkToUser }} invited you to join this board", "boardRep.invite.invitationText", undefined, true),{linkToUser:t})}(M.invited_by_user,ef)})]}),ev&&/*#__PURE__*/(0,E.jsx)(f.Z,{boardId:i})]}),V?/*#__PURE__*/(0,E.jsx)(l.xu,{direction:"row",display:"flex",paddingX:2,children:/*#__PURE__*/(0,E.jsx)(l.xu,{flex:"grow",marginBottom:3,paddingX:1,children:/*#__PURE__*/(0,E.jsx)(l.ZP,{fullWidth:!0,href:a??"",size:"lg",text:ef.bt("Voir le tableau", "See board", "boardRep.invite.seeBoardButton", undefined, true)})})}):/*#__PURE__*/(0,E.jsxs)(l.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[/*#__PURE__*/(0,E.jsx)(l.xu,{flex:"grow",marginBottom:3,paddingX:1,children:/*#__PURE__*/(0,E.jsx)(l.zx,{fullWidth:!0,onClick:()=>{Z?.(!1)},size:"lg",text:ef.bt("Décliner", "Decline", "boardRep.invite.declineButton", undefined, true)})}),/*#__PURE__*/(0,E.jsx)(l.xu,{flex:"grow",marginBottom:3,paddingX:1,children:/*#__PURE__*/(0,E.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:()=>{Z?.(!0)},size:"lg",text:ef.bt("Accepter", "Accept", "boardRep.invite.acceptButton", undefined, true)})})]})]}):/*#__PURE__*/(0,E.jsxs)(l.xu,{height:H?void 0:e$,marginTop:eR?es:1,paddingX:2,paddingY:eR?eo:0,children:[J&&/*#__PURE__*/(0,E.jsxs)(l.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"start",marginEnd:2,paddingY:1,children:[/*#__PURE__*/(0,E.jsx)(l.xu,{marginEnd:2,marginStart:1,children:/*#__PURE__*/(0,E.jsx)(o.qE,{accessibilityLabel:ef.bt("Avatar", "Avatar", "User`s Avatar", undefined, true),color:eC,name:eD?.fullName??"",size:"xs",src:eD?.imageMediumUrl??""})}),/*#__PURE__*/(0,E.jsxs)(l.kC,{direction:"column",children:[/*#__PURE__*/(0,E.jsxs)(l.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",children:[/*#__PURE__*/(0,E.jsxs)(l.xv,{inline:!0,lineClamp:1,size:"100",children:[/*#__PURE__*/(0,E.jsx)(l.xv,{inline:!0,size:"100",children:ef.bt("Par", "By", "boardRep.boardCard.userAttribution", undefined, true)})," ",/*#__PURE__*/(0,E.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:eD?.fullName})]}),eV&&/*#__PURE__*/(0,E.jsx)(l.xu,{marginStart:1,children:/*#__PURE__*/(0,E.jsx)(T.Z,{isVerifiedIdentity:!!eQ,isVerifiedMerchant:!!eH,size:"xs"})})]}),/*#__PURE__*/(0,E.jsxs)(l.xu,{alignItems:eS?"center":"start",direction:"row",display:"flex",marginTop:1,children:[/*#__PURE__*/(0,E.jsxs)(l.xv,{color:"subtle",lineClamp:1,size:"100",children:[/*#__PURE__*/(0,E.jsx)(v.Z,{}),(0,m.nk)(ef.nbt(["{{ count }} Épingle", "{{ count }} Épingles"], eg, "profile.ProfilePage.board.BoardCard.pinsCount", true),{count:eP(el,eg,{shortform:!0,shortform_maximum_fraction_digits:1})})]}),/*#__PURE__*/(0,E.jsx)(l.xv,{color:"subtle",size:"100",children:/*#__PURE__*/(0,E.jsx)(_.Z,{ariaHidden:!0,size:"100"})}),!e&&/*#__PURE__*/(0,E.jsx)(l.xu,{display:"inlineBlock",marginEnd:ek?2:0,children:/*#__PURE__*/(0,E.jsxs)(l.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[/*#__PURE__*/(0,E.jsx)(v.Z,{}),eI(et,!0)]})})]})]})]}),!J&&/*#__PURE__*/(0,E.jsxs)(t.Fragment,{children:[/*#__PURE__*/(0,E.jsxs)(l.xu,{alignItems:eU?"start":"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[/*#__PURE__*/(0,E.jsx)(C,{isBoardsActualizationRepsExp:eU,children:ed}),eW&&!en&&ev&&/*#__PURE__*/(0,E.jsx)(f.Z,{boardId:i})]}),eX&&/*#__PURE__*/(0,E.jsx)(l.xu,{marginTop:1,children:/*#__PURE__*/(0,E.jsx)(b.Z,{numberOfCollaborators:A,ownerFullName:eD?.fullName??"",ownerIsVerifiedIdentity:!!eQ,ownerIsVerifiedMerchant:!!eH,showBoardCollaborators:ev})}),/*#__PURE__*/(0,E.jsxs)(l.xu,{alignItems:eS?"center":"start",direction:"row",display:"flex",marginTop:1,children:[/*#__PURE__*/(0,E.jsxs)(l.xv,{color:eU?"subtle":void 0,lineClamp:1,size:"100",children:[/*#__PURE__*/(0,E.jsx)(v.Z,{}),(0,m.nk)(ef.nbt(["{{ count }} Épingle", "{{ count }} Épingles"], eg, "profile.ProfilePage.board.BoardCard.pinsCount", true),{count:eP(el,eg,{shortform:!0,shortform_maximum_fraction_digits:1})})]}),!!eh&&/*#__PURE__*/(0,E.jsxs)(l.xv,{color:eU?"subtle":void 0,lineClamp:1,size:"100",children:[/*#__PURE__*/(0,E.jsx)(_.Z,{ariaHidden:!0,size:"100"}),/*#__PURE__*/(0,E.jsx)(v.Z,{}),(0,m.nk)(ef.nbt(["{{ count }} sous-tableau", "{{ count }} sous-tableaux"], eh, "profile.ProfilePage.board.BoardCard.sectionsCount", true),{count:eh})]}),eU&&/*#__PURE__*/(0,E.jsx)(l.xv,{color:"subtle",size:"100",children:/*#__PURE__*/(0,E.jsx)(_.Z,{ariaHidden:!0,size:"100"})}),/*#__PURE__*/(0,E.jsx)(l.xu,{display:eR?"flex":"inlineBlock",marginEnd:ek?2:0,marginStart:eU?void 0:2,children:/*#__PURE__*/(0,E.jsxs)(l.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[/*#__PURE__*/(0,E.jsx)(v.Z,{}),eI(et,!0)]})})]}),e&&!eS&&/*#__PURE__*/(0,E.jsxs)(l.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[/*#__PURE__*/(0,E.jsx)(v.Z,{}),ef.bt("Archivé", "Archived", "profile.ProfilePage.BoardCard.ArchivedText", undefined, true)]}),eO&&/*#__PURE__*/(0,E.jsx)(l.xu,{column:2===ec?12:void 0,flex:"none",marginTop:2===ec?3:void 0,children:/*#__PURE__*/(0,E.jsx)(S.Z,{disabled:!!eD?.blockedByMe,followEventType:26,id:K,isFollowed:L,onFollow:eK,onUnfollow:eM,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:ex,viewType:ew})})]})]})})]})})}},888027:(e,i,a)=>{a.r(i),a.d(i,{BOARD_REP_PADDING_DWEB:()=>b,BOARD_REP_PADDING_MWEB:()=>f,default:()=>I});var n,t=a(545007);a(167912);var r=a(883119),l=a(488792),s=a(318717),o=a(730212),d=a(1006),c=a(154785),u=a(410150),p=a(383399),m=a(795644),g=a(464099),h=a(478595),y=a(560425),v=a(845873),_=a(785893);let x=void 0!==n?n:n=a(777579),w=["thumbnail","imageOnly"],b=2,f=3;function I({boardKey:e,component:i,containerBackgroundColor:a,display:n="responsive",forwardedRef:I,fullSize:P,hideSecretBoardIcon:T=!1,isAttributionHeightUnfixed:S=!1,isBoardsActualizationReps:k=!1,isCollaboratorsAttributionVisible:E=!1,isFeaturedBoardsModule:F=!1,isNoBoardTitleStyle:C=!1,noPaddings:A=!1,showFollowButton:j=!0,showPinCount:D=!0,slotIndex:R,type:L,viewParameter:B,viewType:z}){let Z=(0,p.Z)(),U=Z&&Z.isAuth,G=(0,t.I0)(),{locale:K}=(0,o.B)(),M=(0,c.Z)(),N=(0,s.Z)(x,e),O=(0,v.gC)(),H=N?.entityId?O(N.entityId):null,Q=(0,g.Z)(N),V=(0,l.Z)(),W=(0,u.HG)();if(!N)return null;let{owner:Y,shouldShowBoardCollaborators:q}=N,X=Z.isAuth?Z.id:"",$=Y?.entityId===X,J=N.collaboratingUsers?.__typename==="UserCollaboratingUsersConnectionContainer"?N.collaboratingUsers.connection?.edges:[],ee=J?.some(e=>e?.node?.entityId===X);if("secret"===N.privacy&&!ee&&!$)return null;let ei="grid"===L||"thumbnail"===L?2:4,ea=Q(ei),en=(N?.coverPin?.crop&&N?.coverPin?.size&&{x:N?.coverPin?.crop[0]??0,y:N?.coverPin?.crop[1]??0,width:N?.coverPin?.size[0]??0,height:N?.coverPin?.size[0]??0})??{x:0,y:0,width:0,height:0},et={isCustom:N.hasCustomCover||void 0,url:ea,position:en},er=(0,h.Jx)(N?.images170x,N?.pinThumbnailUrls?.filter(e=>null!==e)??void 0,ea).map(({url:e})=>({name:(0,h.po)(e),url:e})),el=[44,49].includes(B)||[3,442,625].includes(z),es=()=>49===B?$?3106:3107:B,eo=N?.sensitivityScreen?{reason:N.sensitivityScreen?.reason,showWarning:N.sensitivityScreen?.showWarning}:void 0,ed=/*#__PURE__*/(0,_.jsx)(m.Z,{archivedDate:N.archivedByMeAt??void 0,boardId:N.entityId,canEdit:!!N.boardAccess&&N.boardAccess.includes("write"),containerBackgroundColor:a,coverPhoto:ea?et:null,display:n,followedByMe:!!(H?.followed_by_me??N.followedByMe),fullSizeDrawer:P,hideMeta:w.includes(L),hideSecretBoardIcon:T,id:N.entityId,imagesLego:er,isAttributionHeightUnfixed:S,isAuthenticated:U,isBoardsActualizationReps:k,isCollaborative:!!N.isCollaborative,isCollaborator:!!ee,isCollaboratorsAttributionVisible:E,isFeaturedBoardsModule:F,isNoBoardTitleStyle:C,isOwner:$,isProtected:"protected"===N.privacy,isSecret:"secret"===N.privacy,isTemporarilyDisabled:!!N.isTemporarilyDisabled,lastModifiedDate:N.boardOrderModifiedAt??"",layout:W?"square":void 0,locale:K,metaMarginTop:2,metaPaddingY:0,name:N.name??"",numberOfCollaborators:J?.length??0,numCols:ei,onFollow:e=>G((0,y.Z)(e,V)),onUnfollow:e=>G((0,y.f)(e,V)),pinCount:D&&N.pinCount?N.pinCount:void 0,sectionCount:N.sectionCount??0,sensitivityScreen:eo,showBoardCollaborators:!1!==q,showFollowButton:j,slotIndex:R,userKey:N?.owner,viewerId:X,viewParameter:B,viewType:z});return!w.includes(L)&&N.url?/*#__PURE__*/(0,_.jsx)(r.Tg,{href:U?N.url:N.url.toLowerCase(),onTap:()=>{el&&V({aux_data:{board_id:N.entityId,board_pin_count:N.pinCount??0,board_section_count:N.sectionCount??0},component:i??1,element:36,event_type:102,view_parameter:es()}),U||((0,d.NC)("click_go_to_board"),M({action:"click",item:"board-card"}))},rounding:2,tapStyle:"compress",children:/*#__PURE__*/(0,_.jsx)(r.xu,{ref:I,paddingY:A?0:W?b:f,children:ed})}):ed}},752578:(e,i,a)=>{a.d(i,{Z:()=>c});var n=a(883119),t=a(251263),r=a(144326),l=a(590338),s=a(730212),o=a(785893);let d={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function c({ownerFullName:e,ownerIsVerifiedMerchant:i,ownerIsVerifiedIdentity:a,numberOfCollaborators:c,size:u="xs",showBoardCollaborators:p=!0}){let m=(0,r.ZP)(),{locale:g}=(0,s.B)(),h=(0,l.Z)();return/*#__PURE__*/(0,o.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",maxHeight:d[u].height,children:[/*#__PURE__*/(0,o.jsx)(n.xv,{lineClamp:1,size:d[u].text,children:/*#__PURE__*/(0,o.jsx)(t.Z,{text:e})}),(i||a)&&/*#__PURE__*/(0,o.jsx)(n.xu,{flex:"none",marginStart:1,children:i?/*#__PURE__*/(0,o.jsx)(n.JO,{accessibilityLabel:m.bt("Icône du badge de vérification du commerçant", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true),color:"shopping",icon:"workflow-status-ok",size:d[u].icon}):/*#__PURE__*/(0,o.jsx)(n.JO,{accessibilityLabel:m.bt("Icône de badge de vérification d’identité", "Identity verification badge icon", "identityVerification.badge.icon", undefined, true),color:"error",icon:"check-circle",size:d[u].icon})}),p&&c>0&&/*#__PURE__*/(0,o.jsx)(n.xu,{flex:"none",marginStart:1,children:/*#__PURE__*/(0,o.jsx)(n.xv,{size:d[u].text,children:"+ "+h(g,c,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},236496:(e,i,a)=>{a.d(i,{Z:()=>u});var n=a(883119),t=a(144326),r=a(51674),l=a(410150),s=a(667294),o=a(383399),d=a(845873),c=a(785893);function u({boardId:e}){let i=(0,t.ZP)(),a=(0,o.Z)(),u=(0,l.HG)(),p=(0,d.gC)()(e),m=function(e){let i=(0,o.Z)(),a=(0,l.HG)()&&i&&i.isAuth,n=(0,d.gC)()(e);return(0,s.useMemo)(()=>{if(!n)return[];let{owner:e,collaborating_users:t}=n,[r,l,s]=[new Set,new Set,new Set];for(let a of[...e?[e]:[],...t||[]])a.id===e?.id?r.add(a):a.id===i.id?l.add(a):s.add(a);return[...r,...l,...s].map(e=>({name:(a?e.full_name:e.username)??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??"",color:e?.avatar_color_index??void 0}))},[a,n,i])}(e);if(!p)return null;let{collaborator_count:g=0}=p,h=u&&a&&a.isAuth?23:16,y=h/3*((m.length>2?3:m.length)*2+1),v=g>=m.length?g-m.length:0,_=[...m,...Array(v=v>99?100:v).fill({name:"",src:""})];return/*#__PURE__*/(0,c.jsx)(n.xu,{height:h,marginStart:2,minWidth:y,width:y,children:/*#__PURE__*/(0,c.jsx)(n.HE,{accessibilityLabel:r.U+(i.bt("Le tableau a des collaborateurs", "Board has collaborators", "boardCard.avatarGroup.collaborators", undefined, true)),collaborators:_})})}},464099:(e,i,a)=>{a.d(i,{Z:()=>o}),a(167912);var n,t=a(318717),r=a(410150),l=a(383399);let s=void 0!==n?n:n=a(384777),o=e=>{let i=(0,r.HG)(),a=(0,l.Z)(),n=a?.isAuth??!1,o=(0,t.Z)(s,e);return e=>{if(i&&n)return o?.coverPin?.imageUrl??o?.coverImageSpec_222x?.url??(o?.image_170x||[])[0]?.url??"";let a=o?.imageCoverHdUrl||o?.imageCoverUrl;if(a)return a;let t=o?.coverImageSpec_400x300?.url??o?.coverImageSpec_222x?.url??o?.coverImageSpec_216x146?.url??"";return e&&e>2&&t?t:o?.imageCoverUrl||""}}},478595:(e,i,a)=>{a.d(i,{Bw:()=>s,Jx:()=>l,po:()=>n});let n=(e="")=>(e??"").substring((e??"").lastIndexOf("/")+1),t=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),r=e=>{if(!e)return()=>!0;let i=n(e);return e=>"string"==typeof e?n(e)!==i:n(e.url??"")!==i},l=(e,i,a)=>e?e.filter(r(a)):i?i.filter(r(a)).map(t):[],s=e=>(e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})??{x:0,y:0,width:0,height:0}},243583:(e,i,a)=>{a.d(i,{Yg:()=>o,ib:()=>c,nF:()=>p,xX:()=>u});var n=a(297728),t=a(730212),r=a(410150),l=a(415787);let s=({checkExperiment:e})=>{let{group:i}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,a)=>(0,l.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:i,...a}})}},o=()=>{let{isAuthenticated:e}=(0,t.B)(),i=(0,r.HG)(),{checkExperiment:a}=(0,n.F)();return e&&!i?s({checkExperiment:a}):{logStat:()=>{}}},d=0,c=({checkExperiment:e,isAuthMweb:i})=>{if(!i)return;let{logStat:a}=s({checkExperiment:e});(d+=1)<10&&a(`repin_${d}`)};function u({checkExperiment:e,isDesktop:i,isAuthenticated:a}){if(!a)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};if(i){let{anyEnabled:i}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:i,isGraphQLEnabledInGeneral:i,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}{let{anyEnabled:i,group:a}=e("auth_mweb_graphql_pin_page");switch(a){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"enabled_and_impression_fix":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_related_pins_and_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"should_render_with_missing_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"render_and_subscribe":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingDataAndSubscribe",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"add_related_pins_latency":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!0};default:return{isGraphQLEnabledInGeneral:i,isGraphQLEnabledForRelatedPins:i,closeupPageSuspenseBehavior:i?"SuspendOnMissingData":null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}}}function p(){let{checkExperiment:e}=(0,n.F)(),i=(0,r.HG)(),{isAuthenticated:a}=(0,t.B)();return u({checkExperiment:e,isDesktop:i,isAuthenticated:a})}},560425:(e,i,a)=>{a.d(i,{Z:()=>r,f:()=>l});var n=a(400416),t=a(119437);function r(e,i){return async a=>{a((0,t.md)(e,!0));try{await (0,n.Z)({url:`/v3/boards/${e}/follow/`,method:"PUT"}),i({event_type:26,object_id_str:e})}catch(i){a((0,t.md)(e,!1))}}}function l(e,i){return async a=>{a((0,t.md)(e,!1));try{await (0,n.Z)({url:`/v3/boards/${e}/follow/`,method:"DELETE"}),i({event_type:27,object_id_str:e})}catch(i){a((0,t.md)(e,!0))}}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/88027.fr-ada91ca5e2e9b03e.mjs.map